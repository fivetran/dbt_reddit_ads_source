version: 2

sources:
  - name: reddit_ads
    schema: "{{ var('reddit_ads_schema') }}"
    database: "{% if target.type != 'spark'%}{{ var('reddit_ads', target.database) }}{% endif %}"
    
    loader: Fivetran
    loaded_at_field: _fivetran_synced

    freshness: 
      warn_after: {count: 48, period: hour}
      error_after: {count: 168, period: hour}

    config:
      enabled: "{{ var('ad_reporting__reddit_ads_enabled', true) }}"
    
    tables:
      - name: account 
      - name: account_report
      - name: account_conversions_report
      - name: ad
      - name: ad_report
      - name: ad_conversions_report
      - name: ad_group
      - name: ad_group_report
      - name: ad_group_conversions_report
      - name: campaign
      - name: campaign_report
      - name: campaign_conversions_report
      - name: post_report
      - name: post_conversions_report
          
